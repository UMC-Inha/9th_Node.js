# 1. IP

## Internet Protocol (IP 주소랑은 다른 것!)

- IP는 패킷 헤더에 있는 IP 주소만!을 사용하여 패킷을 출발 호스트에서 목적지 호스트로 전달하는 역할 담당.
- IP는 비연결 지향(like UDP)으로서, 1974년 Transmission Control Program에서 IP 주소 기반으로 패킷 경로 결정했음.
- 이후 연결 지향 통신을 결합 > TCP(Transmission Control Protocol) > 3-way handshake, 순서 재조립 등
- 최종적으로 최근 가장 많이 사용되는 TCP/IP가 됨!!

## IP 패킷: 데이터 전송 시 사용하는 최소 단위

- datagram(패킷)은 두 컴포넌트로 이루어짐 (헤더 / payload)
- 헤더는 도착/목적지 IP 주소, 다양한 메타 데이터를 포함
- payload는 전달되는 실제 데이터를 포함

## 자율 시스템

- 라우팅 프로토콜: IGP, EGP
    - IGP (내부 게이트웨이 프로토콜): 조직망에서 사용
    - EGP (외부 ..): 서로 다른 AS(자율 시스템)간 통신
- AS(Autonomous System): 대규모 네트워크 그룹, 각 AS는 인터넷 서비스 공급자(sk, lg)에 의해 운영
- 각 AS는 특정 양의 IP 주소 공간을 제어, 각 AS는 ASN 고유 번호가 부여됨

## 공인 IP vs 사설 IP

- 공인 ip 주소(public): 공유기가 인터넷과 통신하도록 하는 외부 ip 주소
- 사설 ip 주소(private): **공유기가** 노트북, 휴대폰 등 홈 네트워크에 연결된 장치에 **할당한** 내부 IP 주소, 인터넷에 노출 X
- 인터넷에 연결된 장치에는 공인/사설 모두 할당됨
- 공인은 다시 정적/동적 ip, 전용/공유 ip 주소로 구분할 수 있다.

## IPv4 vs IPv6

- ipv4: 네 부분의 숫자로 구성 (0~255)
- ipv6: 숫자와 알파벳이 포함된 16진법으로 구성, 암호화/인증 기능 제공

## Reference

- IP https://en.wikipedia.org/wiki/Internet_Protocol
- 자율 시스템 https://www.cloudflare.com/ko-kr/learning/network-layer/what-is-an-autonomous-system/
- 사설 IP와 공인 [https://nordvpn.com/ko/blog/public-ip-and-private-ip/#:~:text=살펴보도록 하겠습니다.-,공인 IP 주소,주소를 공유하게 됩니다](https://nordvpn.com/ko/blog/public-ip-and-private-ip/#:~:text=%EC%82%B4%ED%8E%B4%EB%B3%B4%EB%8F%84%EB%A1%9D%20%ED%95%98%EA%B2%A0%EC%8A%B5%EB%8B%88%EB%8B%A4.-,%EA%B3%B5%EC%9D%B8%20IP%20%EC%A3%BC%EC%86%8C,%EC%A3%BC%EC%86%8C%EB%A5%BC%20%EA%B3%B5%EC%9C%A0%ED%95%98%EA%B2%8C%20%EB%90%A9%EB%8B%88%EB%8B%A4).

# 2. PORT
- 컴퓨터 내 실행 중인 특정 프로그램(프로세스)을 식별, 해당 프로그램에 데이터를 전달하는 가상의 통로
- TCP, UDP 헤더에는 포트 번호 나타내는 섹션이 있음
- 0번 ~ 65535번

# 3. CIDR
## CIDR

- Classless Inter-Domain Routing 약자로, 인터넷상의 데이터 라우팅 효율성을 향상시키는 IP 주소 할당 방법
- 기존 IPv4는 클래스 기반 주소. 마침표로 구분된 4개의 숫자(0~255) → 각 8비트, 전체 32비트로 구성
    - 클래스 A: 주소 a.b.c.d에서 네트워크 접두사 비트가 a, 나머지 b.c.d가 호스트주소 
    **16,777,214개 호스트 가능**
    - 클래스 B: a.b가 네트워크 주소, c.d가 호스트 주소
    **65,534개 호스트 가능**
    - 클래스 C: a.b.c / d
    **254개 호스트 가능**
- 클래스가 없는 주소: 주소 뒤의 접미사 값을 통해 네트워크 주소 접두사 비트 수를 알려줌 (바이트가 아닌 비트단위)
    - 192.0.2.9/24: 처음 24비트, 192.0.2 와 9로 나눠짐
    - 심지어 /24, /25, /25 로 딱 필요한 크기로 네트워크 할당이 가능

## 장점

- IP 주소 낭비 감소
- 데이터를 빠르게 전송
    - 원래는 라우팅 테이블에 경로가 너무 많았다면, CIDR을 통해 여러 네트워크를 하나의 접두사로 묶어서 관리함으로써 테이블 크기가 감소하여 검색 시간이 단축된다!
- VPC 생성
    - VPC는 Virtual Private Cloud로 클라우드 내에서 호스팅되는 프라이빗 공간이다.
    - VPC는 연결된 디바이스 간에 패킷 전송할 때 CIDR IP 주소를 사용한다.
- 슈퍼넷을 유연하게 생성
    - 슈퍼넷: 유사한 네트워크 접두사를 가진 서브넷의 그룹 ↔ 서브넷: 큰 네트워크를 더 작은 단위로 나눈 것
    - 단 하나의 라우팅 테이블 항목으로 서브넷에 있는 디바이스 간의 데이터 패킷을 관리 가능

## CIDR 공급 경로

- CIDR 블록: 동일한 네트워크 접두사와 비트 수를 공유하는 IP 주소 모음
- IANA(인터넷 할당 번호 관리기관)에서 RIR(지역 인터넷 주소 관리기관)에 대규모 CIDR 블록을 할당 
> RIR은 LIR(지역 내 인터넷 주소 관리 단위, 주로 ISP(인터넷 서비스 제공자자 기업)) > 개인 사용자

## IPv6에서 사용

- IPv6은 128비트 고유 식별자를 사용하고, 8개의 콜론으로 구분된 16진수 값으로 구성된다.
- IPv4에서와 동일하게 임의 비트 길이의 접두사로 집계할 수 있다.

## Reference

CIDR - https://aws.amazon.com/ko/what-is/cidr/

라우팅 테이블 - https://docs.aws.amazon.com/ko_kr/vpc/latest/userguide/VPC_Route_Tables.html

# 4. TCP vs UDP
## TCP

- Transmission Control Protocol (전송 제어 프로토콜): 인터넷을 통해 디바이스에서 웹 서버로 데이터를 전송하는 네트워크 프로토콜
- 데이터를 전송하는 동안 수신/발신자 사이의 연결을 설정하고 유지하며, 데이터가 온전하게 도착하도록 보장한다.
- 안전한 데이터 전송을 위한 TCP의 여러 장치들은 앞선 Summary에서 정리함!!
- 장점
    - 운영체제와 독립적 > 어떤 컴퓨터든 연결 가능
    - 데이터 오류 확인
    - 수신자가 처리할 수 있는 만큼 속도 조절하여 보냄
    - 정보가 도착하지 않으면 재전송
- 단점
    - 작은 정보가 안 오면, 연결 전체에 문제
    - 많은 대역폭 이용 > 느림
    - 근거리 통신망 / 개인 영역 네트워크에서 제대로 작동 X

## UDP

- User Datagram Protocol (사용자 데이터그램 프로토콜): 데이터를 빠르게 보내지만, 도착 여부나 순서를 확인하지 않는 통신 방식
- 비연결 방식으로 두 당사자 간 사전 연결 설정 X, 데이터가 손실될 가능성 O
- 사용 분야: 게임, 스트리밍, 빠른 속도가 중요한 상황
- 장점
    - 더 작은 패킷, 더 적은 오버헤드로 전송
    - 일부 패킷이 누락돼도 데이터 전송, 전체 전송 중단되지 않음
    - 브로드캐스트 및 멀티캐스트 > 하나의 UDP 전송으로 여러 수신자에게 한 번에 전송
    ex) 인터넷 방송, 온라인 게임, 화상 회의
- 단점
    - 성공적 도달 여부 확인 X
    - 라우터가 데이터 패킷 우선순위 정할 때 TCP > UDP
    - 특정 순서로 데이터 전송 X > 패킷이 어떤 순서로든 도착할 수 있음
    ex) 화상 통화 끊김 현상

## Reference

https://nordvpn.com/ko/blog/tcp-udp-comparison/?srsltid=AfmBOooO3WrCpfWrsvc6hWCsWUU2kMIxotQCZxbunWfVYEj0pHu3_apR

# 5. Web Server vs WAS
## 차이점

- 웹 서버: http 프로토콜로 클라이언트에게 웹 페이지(정적 콘텐츠) 제공 - 아파치, Nginx
- WAS 서버: 웹 애플리케이션(동적인 콘텐츠) 실행 및 데이터 처리, 웹 서버와 클라이언트 간의 중개 역할을 하는 서버 - 톰캣 등

## 사례

- 온라인 커뮤니티에서 게시글 작성, 댓글 달기 등의 동적 기능은 WAS, 게시글 내용이나 정적 콘텐츠는 웹 서버에서 제공

## Reference

[https://velog.io/@moonblue/웹-서버와-WAS의-차이점](https://velog.io/@moonblue/%EC%9B%B9-%EC%84%9C%EB%B2%84%EC%99%80-WAS%EC%9D%98-%EC%B0%A8%EC%9D%B4%EC%A0%90)

# 6. HTTP vs HTTPS
## http

- 클라이언트 - 서버 간 통신을 위한 통신 규칙! 프로토콜!
- https는 http의 확장/더 안전한 버전이다. (전송하기 전 암호화된 연결을 설정)

## http 작동법

- 네트워크 통신 모델의 애플리케이션 계층 프로토콜로, 여러 유형의 요청과 응답을 정의한다.
- 서버는 숫자 코드 및 데이터 양식으로 다양한 유형의 http 응답을 전송한다.

## https 작동법

- http는 암호화되지 않은 데이터를 전송 > 제3자가 가로채고 읽을 수 있음
- SSL 및 TLS 기술에 결합
- https 웹사이트는 인증 기관에서 SSL/TLS 인증서 획득해야함
- 작동 방식
    1. 사용자가 https:// 사이트 방문
    2. 브라우저는 서버의 SSL 인증서 요청 > 사이트 신뢰성 검증 시도
    3. 서버는 퍼블릭 키가 포함된 SSL 인증서를 회신으로 전송
    4. 웹 사이트의 SSL 인증서는 서버 아이덴티티 증명, 브라우저에서 인증됨 > 브라우저가 퍼블릭 키를 이용해 비밀 세션 키가 포함된 메시지 암호화하고 전송
    5. 웹 서버는 프라이빗 키를 사용해 메시지 해독, 세션 키를 검색 > 세션 키를 암호화하고 브라우저에 승인 메시지 전송
    6. 이제 브라우저, 웹 서버 모두 동일한 세션 키를 사용해 메시지를 안전하게 교환하도록 전환
- 나의 질문 ✅
    - 세션 키를 해커가 훔치면?: 공개키로 암호화된 메시지는 서버의 비밀키 없이는 절대 복호화 불가
    - 인증 과정은 얼마나 자주? : 연결 시마다 초기 접속에서 한 번 수행, 세션 유지되는 동안은 동일한 세션 키 사용

## http 버전별 차이점

- http/1.1: 최초 버전
- http/2: 텍스트 형식 대신 바이너리 데이터를 교환 등 개선사항
- http/3: 실시간 스트리밍 및 기타 최신 데이터 전송 요구 사항을 보다 효율적으로 지원
- https: 보안 문제 우선시, 최신 시스템에서는 SSL/TLS + http/2 사용

## https 이용하는 이유

- 보안 - skip
- 검색 엔진에서 https 순위 더 높게 지정
- 성능 및 분석 - 로드 속도가 http보다 더 빠름, https는 참조 링크도 더 잘 추적

## Reference

https://aws.amazon.com/ko/compare/the-difference-between-https-and-http/
